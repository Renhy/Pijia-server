<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="src/echarts.min.js"></script>
</head>
<body>
<div id="main" style="width: 600px;height:400px;"></div>

<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('main'));
    var option = {
        title: {
            text: 'ECharts 入门示例'
        },
        tooltip: {},
        legend: {
            data:['销量']
        },
        xAxis: {
            data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
        },
        yAxis: {},
        series: [{
            name: '销量',
            type: 'bar',
            data: [5, 20, 36, 10, 10, 20]
        }]
    };
    myChart.setOption(option);


    get_method("http://server.renhy.top:8080/api/device/latest");


    function get_method(url) {
        var xmlHttpReg = null;
        if (window.ActiveXObject) {
            xmlHttpReg = new ActiveXObject("Microsoft.XMLHTTP");
        } else if (window.XMLHttpRequest) {
            xmlHttpReg = new XMLHttpRequest();
        }
        console.info(xmlHttpReg);
        if (xmlHttpReg != null) {
            xmlHttpReg.open("GET", url, true);
            xmlHttpReg.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            xmlHttpReg.setRequestHeader("Access-Control-Allow-Origin", "*");
            xmlHttpReg.send(null);
            xmlHttpReg.onreadystatechange = doResult;
        }
        function doResult() {

            if (xmlHttpReg.readyState == 4) {
                if (xmlHttpReg.status == 200) {
                    console.log(xmlHttpReg.responseText);
                }
            }

        }
    }

</script>

</body>
</html>